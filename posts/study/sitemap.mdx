---
title: 사이트 맵
date: 2023-11-17
published: publish
---


# 사이트맵이란 무엇인가요?

사이트맵은 검색 엔진이 웹사이트의 모든 페이지를 쉽게 찾고 인덱싱할 수 있도록 도와주는 파일입니다. 

사이트맵이란 웹 사이트 내의 페이지, 동영상, 이미지, 뉴스 등의 콘텐츠의 목록을 나열하고, 그 관계에 관한 정보를 제공하는 파일을 말합니다.

`Google` 등의 검색엔진이 해당 정보를 바탕으로 조금 더 효율적으로 페이지를 크롤링할 수 있도록 돕는 역할을 합니다.

기본적으로 웹 사이트의 페이지 구조와 링크 관계가 정상적으로 잘 구성되어 있다면, 사이트맵이 없어도 검색엔진이 대부분의 페이지를 찾아 크롤링 및 인덱싱할 수 있습니다.

다만 사이트의 규모가 크고 복잡하거나, 중요한 페이지의 링크가 적절히 연결되어 있지 않은 경우 등에는 사이트맵이 도움이 될 수 있습니다.

- 검색엔진 종류
  1. 구글 (Google)
  2. 얀덱스 (Yandex)
  3. 야후 재팬 (Yahoo)
  4. 바이두 (Baidu)
  5. 네이버 (Naver)
  6. 코코 (Coc Coc)
  7. 빙 (Bing)
  8. 덕덕고 (DuckDuckGo)
  9. 에코시아 (Ecosia)
  10. 페탈 (Petal Search)




## 사이트맵이 필요한 경우

새로운 페이지를 추가하거나 웹사이트 구조에 큰 변경이 있을 때마다 사이트맵을 업데이트하고 다시 제출해야 합니다. 이는 검색 엔진이 최신 콘텐츠를 빠르게 인식하도록 도와줍니다.

### 규모가 큰 사이트

- 일반적으로 사이트 규모가 클 수록 검색엔진이 페이지 간의 링크 관계를 파악하기 어렵거나 발견하지 못할 가능성이 높아집니다.

### 연결되는 외부 링크가 많지 않은 새로운 사이트

- `Googlebot` 등 웹 크롤러들은 한 페이지에서 다른 페이지로 연결되는 링크를 따라가면서(follow) 크롤링을 수행하기 때문에, 다른 사이트가 페이지에 링크되어 있지 않으면 페이지를 찾지 못하게 될 수 있습니다.
- 사이트 내부적으로도 페이지 간의 링크 관계가 잘 구성되어 있지 않은 경우에는 사이트맵이 도움이 될 수 있습니다. 또한 새롭게 추가되거나 업데이트된 페이지를 크롤링하도록 유도하는 힌트가 될 수 있습니다.

### 미디어 콘텐츠(동영상, 이미지)가 많거나 뉴스에 노출되는 사이트

- 미디어 콘텐츠가 많은 페이지는 크롤러가 페이지를 정확히 분석하지 못할 수 있기 때문에, 이러한 콘텐츠에 대한 부가 정보를 제공하면 도움이 될 수 있습니다. 검색엔진이 사이트 내의 콘텐츠 정보를 이해하고 검색 결과로 노출할 때 사이트맵에 명시되어 있는 부가 정보를 참고하게 됩니다.

## HTML 사이트맵

HTML 형태의 사이트맵은 사용자 경험을 향상시킬 수 있습니다. 사용자들이 웹사이트의 구조를 쉽게 이해하고 원하는 페이지를 찾을 수 있도록 도와줍니다.

## 동적 사이트맵 생성

CMS나 서버 사이드 스크립트를 이용해 동적으로 사이트맵을 생성할 수 있습니다. 예를 들어, WordPress의 플러그인이나 Python, Node.js 등의 서버 사이드 언어를 사용해 자동으로 사이트맵을 업데이트할 수 있습니다.

## Google Search Console 설정

Google Search Console에서 사이트맵을 제출ß는 과정은 간단하지만 몇 가지 팁을 따르면 더 효과적입니다. 예를 들어, 사이트맵 파일의 URL을 정확하게 입력하고, 제출 후에는 사이트맵이 성공적으로 인덱싱되었는지 확인해야 합니다.

1. Google Search Console에 로그인합니다.
2. "사이트맵" 섹션으로 이동합니다.
3. 사이트맵 URL을 입력하고 제출합니다.
4. 제출 후, 상태를 확인하여 오류가 없는지 검사합니다.

이와 같이 사이트맵을 적절히 관리하면 검색 엔진 최적화(SEO)에 큰 도움이 됩니다.


## 사이트맵이 필요하지 않은 경우

### 규모가 작은 사이트

- 구체적으로는 사이트를 구성하는 페이지의 개수가 500개 이하인 경우를 가리킵니다.

### 내부적으로 링크 관계가 긴밀하게 구성된 사이트

- 검색엔진이 사이트의 시작(홈) 링크를 진입점으로 따라가면서, 다른 모든 중요한 내부 페이지들을 발견할 수 있습니다.

## 사이트 맵 종류

일반적으로 검색엔진들은 [사이트맵 프로토콜](https://www.sitemaps.org/protocol.html#otherformats)을 준수하여 정의된 사이트맵 형식을 지원하고 있습니다.

`XML`, `RSS`, 단순 `Text` 포맷으로 사이트맵을 구성할 수 있는데, 상황에 따라 취사선택할 수 있습니다.

Google 문서를 인용하자면 아래와 같습니다.

**`XML`**

가장 다양한 용도로 사용할 수 있는 포맷입니다. 확장이 쉽고 이미지, 동영상, 뉴스 콘텐츠뿐만 아니라 현지화된 버전(i18n)에 대한 정보도 제공할 수 있습니다.

**장점**

- 확장 가능하고 다용도로 사용 가능
- URL에 대해 가장 많은 정보를 제공할 수 있음
- CMS를 사용하는 경우 플러그인의 도움을 받기 용이함

**단점**

- 사용하기에 번거로울 수 있음
- 규모가 큰 사이트 또는 URL이 자주 변경되는 사이트에서는 유지 관리가 복잡하고 번거로울 수 있음

**`RSS, mRSS, Atom 1.0`**

XML과 비슷한 구조이지만, CMS를 사용하는 경우 일반적으로 자동 생성되는 경우가 많아 간편하게 제공할 수 있습니다.

**장점**

- 대부분의 CMS에서 자동으로 생성
- 동영상 정보를 제공할 때 활용

**단점**

- HTML 및 기타 색인 생성이 가능한 페이지 외 이미지 또는 뉴스가 아닌 동영상에 대한 정보만 제공 가능
- 사용하기에 번거로울 수 있음

**`Text`**

가장 단순한 포맷으로, 페이지의 URL 정보만 한 줄씩 명시하는 방식으로 구성됩니다.

**장점**

- 규모가 매우 큰 사이트에서 쉽게 사용하고 관리할 수 있음

**단점**

- HTML 및 기타 색인 생성이 가능한 페이지에서만 사용 가능

## 사이트 맵 제약 조건

### 사이즈 제한

사이트맵의 포맷과는 무관하게, **50MB(52,428,800bytes)** 또는 **URL 50,000개**를 초과할 수 없다는 제약이 있습니다.

만약 사이트맵이 이것보다 더 크거나 많다면, 분할해서 생성한 다음 **사이트맵 색인(`sitemapindex`)** 파일을 만들어 분할된 각 사이트맵 파일의 경로를 명시해주어야 합니다.

색인 파일을 생성하면, 추후 `Google Search Console` 등의 검색 관리 웹 마스터 도구에서 사이트맵을 제출할 때 각 사이트맵 파일이 아닌 색인 파일 하나만 제출해도 됩니다.

사이트맵 색인 파일은 아래와 같이 작성합니다.

```xml
<?xml version="1.0" encoding="UTF-8"?>
<sitemapindex xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
	<sitemap>
		<loc>https://example.com/sitemap1.xml</loc>
	</sitemap>
	<sitemap>
		<loc>https://example.com/sitemap2.xml</loc>
	</sitemap>
</sitemapindex>
```

이때, 사이트맵 파일은 `gzip` 압축을 통해 사이즈를 줄일 수도 있습니다. 즉, 일반적으로 검색엔진은 사이트맵 파일에 대한 [콘텐츠 협상(content negotiation)](https://developer.mozilla.org/ko/docs/Web/HTTP/Content_negotiation) 과정에서 gzip 인코딩 형식도 허용합니다.

다만 사이즈 제한은 압축 이전의 원본을 기준으로 하므로, 50MB를 초과할 수 없다는 것은 변하지 않습니다.

아래와 같이 사이트맵 파일의 확장자를 명시하는 방식으로 압축된 파일임을 나타낼 수 있습니다.

```xml
<loc>https://example.com/big-sitemap.xml.gz</loc>
```

## sitemap.xml 기본 구성 태그

**`<urlset>`**

- 모든 URL 엔트리들을 감싸는 최상위 요소입니다.
- XML 문서의 루트 요소여야 합니다.

**`<url>`**

- 각 웹 페이지의 URL 정보를 포함합니다.

**`<loc>`**

- 웹 페이지의 URL을 포함합니다.
- 필수 요소로, 모든 **`<url>`** 엔트리 안에 있어야 합니다.

**`<lastmod>`**

- 웹 페이지가 마지막으로 수정된 날짜와 시간을 나타냅니다.
- 선택적 요소이며, 변경된 경우에만 사용합니다.

**`<changefreq>`**

- 웹 페이지가 얼마나 자주 변경되는지를 나타냅니다.
- 선택적 요소로, 변경 빈도를 표시하는 데 사용됩니다.
- 가능한 값으로는 "always," "hourly," "daily," "weekly," "monthly," "yearly," "never" 등이 있습니다.

**`<priority>`**

- 웹 페이지의 우선순위를 나타냅니다.
- 선택적 요소로, 0.0에서 1.0 사이의 값으로 표시됩니다. 높은 값은 높은 우선순위를 나타냅니다.

**`<image>`**

- 이미지 파일을 지정하는 데 사용됩니다.
- **`<loc>`** 안에 이미지 URL을 포함하고, 선택적으로 이미지 관련 메타데이터를 제공할 수 있습니다.

**`<video>`**

- 비디오 파일을 지정하는 데 사용됩니다.
- **`<loc>`** 안에 비디오 URL을 포함하고, 선택적으로 비디오 관련 메타데이터를 제공할 수 있습니다.

## 참고

앞에서도 언급했듯, 사이트맵을 `[Google Search Console](https://search.google.com/search-console?hl=ko)` 또는 `[Naver Search Advisor](https://searchadvisor.naver.com/)` 같은 웹 마스터 도구에 제출하더라도 검색엔진은 이를 힌트 정도로만 참고합니다.

## robots.txt

웹사이트에 웹 크롤러 같은 로봇들의 접근을 제어하기 위한 규약

- 1994년 6월에 만들어진 로봇 배제 규약이나 권고사항이므로 지켜야할 의무는 없음

검진엔진들의 인덱싱 목적으로 크롤러가 사용될 때, **robots.tsx** 에 ‘안내문 형식’으로 특정 경로에 대한 크롤링을 자제해 줄 것을 권고하는 것. 보통 서버의 트래픽이 한정되어있어 과부하를 방지하거나, 개인 정보가 들어있는 사이트들이 검색엔진에 노출을 원하지 않을 경우 사용된다.

## 사용 예시

- 모든 문서에 대한 접근 허가(사실상 의미X)

```tsx
User-agent: *
Allow: /
```

- 모든 무선에 대한 접근 차단
  - robots.txt 파일에는 최소 한 개 이상의 `Disallow` 필드가 있어야 한다.
  - `Disallow` 값을 비워 둘 경우 모든 하위 경로에 대한 접근 허용

```tsx
User-agent: *
Disallow: /
```

- 모든 문서에 대해 접근을 차단하고, 첫 페이지(루트 페이지)에 대해서만 허가

```tsx
User-agent: *
Disallow: /
Allow : /$
```

- 구글봇 차단 시

```tsx
User-agent: Googlebot
Allow: /foo/bar/  특정 디렉토리 접근 허가
Disallow: /foo/bar/  특정 디렉토리의 접근을 차단
Disallow: /help  /help.html 과 /help/index.html 둘 다 차단
Disallow: /help/  /help.html 허용, /help/index.html 차단
```

- 특정 페이지 차단
  - /private-image, /private-video 등을 차단

```tsx
User-agent: *
Disallow: /private*/
```
